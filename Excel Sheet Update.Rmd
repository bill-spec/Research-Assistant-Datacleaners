---
title: "Excel Sheet Update"
author: "Bill Lang"
date: "3/20/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

Chicago 

```{r}
dataMutc %>% select(Year, smallCoded) %>% filter(smallCoded != "1")
```



```{r}
excelData <- function(dataFrame, year, column) {

totalCount <- dim(dataFrame)[1]

the1890s <- c(1890:1899)
the1900s <- c(1900:1909)
the1910s <- c(1910:1919)
the1920s <- c(1920:1929)
the1930s <- c(1930:1939)
the1940s <- c(1940:1949)
the1950s <- c(1950:1959)
the1960s <- c(1960:1969)
the1970s <- c(1970:1979)
the1980s <- c(1980:1989)
the1990s <- c(1990:1999)

dataYears <- dataFrame %>% 
  mutate(groupYear = ifelse(grepl(paste(the1890s,collapse="|"), Year, ignore.case = TRUE), 1890, 
              ifelse(grepl(paste(the1900s,collapse="|"), Year, ignore.case = TRUE), 1900, 
              ifelse(grepl(paste(the1910s,collapse="|"), Year, ignore.case = TRUE), 1910, 
              ifelse(grepl(paste(the1920s,collapse="|"), Year, ignore.case = TRUE), 1920,
              ifelse(grepl(paste(the1930s,collapse="|"), Year, ignore.case = TRUE), 1930, 
              ifelse(grepl(paste(the1940s,collapse="|"), Year, ignore.case = TRUE), 1940,
              ifelse(grepl(paste(the1950s,collapse="|"), Year, ignore.case = TRUE), 1950,
              ifelse(grepl(paste(the1960s,collapse="|"), Year, ignore.case = TRUE), 1960,
              ifelse(grepl(paste(the1970s,collapse="|"), Year, ignore.case = TRUE), 1970,
              ifelse(grepl(paste(the1980s,collapse="|"), Year, ignore.case = TRUE), 1980,
              ifelse(grepl(paste(the1990s,collapse="|"), Year, ignore.case = TRUE), 1990, "???"))))))))))))

dataSummary <- dataYears %>% filter(column != 1) %>% group_by(groupYear) %>% summarise(yearTotals = n())
dataTotal <- dataSummary %>% summarise( sum(yearTotals) ) 

list <- c(dataSummary[,2], dataTotal, totalCount)

return(list)
  
}
```

Chicago

```{r}
excelData(dataFrame = dataMutc, year = dataMutc$Year, column = dataMutc$smallCoded)
```

Boston 

```{r}

```

New York

```{r}

```

DC 

```{r}

```

LA 

```{r}

```











```{r}
the1890s <- c(1890:1899)
the1900s <- c(1900:1909)
the1910s <- c(1910:1919)
the1920s <- c(1920:1929)
the1930s <- c(1930:1939)
the1940s <- c(1940:1949)
the1950s <- c(1950:1959)
the1960s <- c(1960:1969)
the1970s <- c(1970:1979)
the1980s <- c(1980:1989)
the1990s <- c(1990:1999)
```


```{r}
dataYears <- dataMutc %>% 
  mutate(groupYear = ifelse(grepl(paste(the1890s,collapse="|"), Year, ignore.case = TRUE), 1890, 
              ifelse(grepl(paste(the1900s,collapse="|"), Year, ignore.case = TRUE), 1900, 
              ifelse(grepl(paste(the1910s,collapse="|"), Year, ignore.case = TRUE), 1910, 
              ifelse(grepl(paste(the1920s,collapse="|"), Year, ignore.case = TRUE), 1920,
              ifelse(grepl(paste(the1930s,collapse="|"), Year, ignore.case = TRUE), 1930, 
              ifelse(grepl(paste(the1940s,collapse="|"), Year, ignore.case = TRUE), 1940,
              ifelse(grepl(paste(the1950s,collapse="|"), Year, ignore.case = TRUE), 1950,
              ifelse(grepl(paste(the1960s,collapse="|"), Year, ignore.case = TRUE), 1960,
              ifelse(grepl(paste(the1970s,collapse="|"), Year, ignore.case = TRUE), 1970,
              ifelse(grepl(paste(the1980s,collapse="|"), Year, ignore.case = TRUE), 1980,
              ifelse(grepl(paste(the1990s,collapse="|"), Year, ignore.case = TRUE), 1990, "???"))))))))))))

dataSummary <- dataYears %>% filter(smallCoded != 1) %>% group_by(groupYear) %>% summarise(yearTotal = n())
dataTotal <- dataSummary %>% summarise( sum(yearTotal) ) 
```

